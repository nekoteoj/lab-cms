# Lab CMS Configuration
# Copy this file to .env and customize for your environment
# SECURITY WARNING: Never commit real .env files with secrets to version control!

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Port the HTTP server listens on
# Default: 8080
PORT=8080

# Application environment: development or production
# Default: development
# In production, stricter security rules are enforced
ENV=development

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Path to SQLite database file
# Default: ./data/lab-cms.db
DATABASE_URL=./data/lab-cms.db

# Maximum number of open connections to the database
# Default: 0 (unlimited - use Go default)
# Set to a positive number to limit concurrent connections
# For SQLite, values > 1 may not be beneficial due to write locking
DB_MAX_OPEN_CONNS=0

# Maximum number of idle connections in the pool
# Default: 0 (use Go default of 2)
# Set to a positive number to keep connections warm
DB_MAX_IDLE_CONNS=0

# =============================================================================
# SESSION & SECURITY CONFIGURATION
# =============================================================================

# Session secret for signing session cookies
# REQUIRED: Generate a strong secret with: openssl rand -base64 32
# Minimum 32 characters required in production
# This should be kept secret and rotated periodically
SESSION_SECRET=

# Session lifetime in hours
# Default: 24 (sessions expire after 24 hours)
SESSION_MAX_AGE=24

# Use HTTPS-only cookies (requires SSL/TLS)
# Default: false in development, true in production
# Set to true if you have HTTPS enabled
COOKIE_SECURE=false

# Prevent JavaScript access to cookies (mitigates XSS)
# Default: true
# SECURITY: Should always be true
COOKIE_HTTPONLY=true

# CSRF protection mode: strict, lax, or none
# Default: strict
# strict: Most secure, cookies never sent in cross-site requests
# lax: Cookies sent on top-level navigations (safer for some use cases)
# none: No protection (NOT RECOMMENDED)
COOKIE_SAMESITE=strict

# Enable CSRF token validation
# Default: true
# SECURITY: Never disable in production
CSRF_ENABLED=true

# Comma-separated list of trusted proxy IP addresses
# Leave empty if not using reverse proxies
# Example: TRUSTED_PROXIES=127.0.0.1,10.0.0.1
TRUSTED_PROXIES=

# =============================================================================
# INITIAL ADMIN SETUP
# =============================================================================

# Username for the initial root admin account (created on first run)
# Default: admin
ROOT_ADMIN_USERNAME=admin

# Password for the initial root admin account
# REQUIRED: Must be at least 8 characters
# SECURITY: Change this immediately after first login!
ROOT_ADMIN_PASSWORD=

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

# Directory for storing uploaded files (photos, documents)
# Default: ./uploads
UPLOAD_PATH=./uploads

# Maximum file upload size in bytes
# Default: 10485760 (10 MB)
# Set to 0 to disable uploads
MAX_UPLOAD_SIZE=10485760

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: debug, info, warn, error
# Default: info
# debug: Very verbose, includes all details (development only)
# info: General operational messages
# warn: Warning messages only
# error: Error messages only
# SECURITY: debug level should not be used in production
LOG_LEVEL=info
